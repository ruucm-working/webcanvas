{"code":"var login_component_html_1 = require('./login.component.html');\r\nvar core_1 = require('@angular/core');\r\nvar router_1 = require('@angular/router');\r\nvar index_1 = require('../_services/index');\r\nvar LoginComponent = (function () {\r\n    function LoginComponent(route, router, authenticationService, alertService) {\r\n        this.route = route;\r\n        this.router = router;\r\n        this.authenticationService = authenticationService;\r\n        this.alertService = alertService;\r\n        this.model = {};\r\n        this.loading = false;\r\n    }\r\n    LoginComponent.prototype.ngOnInit = function () {\r\n        // reset login status\r\n        this.authenticationService.logout();\r\n        // get return url from route parameters or default to '/'\r\n        this.returnUrl = this.route.snapshot.queryParams['returnUrl'] || '/';\r\n    };\r\n    LoginComponent.prototype.login = function () {\r\n        var _this = this;\r\n        this.loading = true;\r\n        this.authenticationService.login(this.model.username, this.model.password)\r\n            .subscribe(function (data) {\r\n            _this.router.navigate([_this.returnUrl]);\r\n        }, function (error) {\r\n            _this.alertService.error(error);\r\n            _this.loading = false;\r\n        });\r\n    };\r\n    LoginComponent = __decorate([\r\n        core_1.Component({\r\n            template: login_component_html_1.default\r\n        }), \r\n        __metadata('design:paramtypes', [Object, Object, index_1.AuthenticationService, index_1.AlertService])\r\n    ], LoginComponent);\r\n    return LoginComponent;\r\n}());\r\nexports.LoginComponent = LoginComponent;\r\n//# sourceMappingURL=login.component.js.map","sourceMap":{"version":3,"file":"login.component.js","sourceRoot":"","sources":["client/imports/app/login/login.component.ts"],"names":[],"mappings":"AAAA,qCAAqB,wBAAwB,CAAC,CAAA;AAC9C,qBAAkC,eAAe,CAAC,CAAA;AAClD,uBAAuC,iBAAiB,CAAC,CAAA;AAEzD,sBAAoD,oBAAoB,CAAC,CAAA;AAMzE;IAKI,wBACY,KAAqB,EACrB,MAAc,EACd,qBAA4C,EAC5C,YAA0B;QAH1B,UAAK,GAAL,KAAK,CAAgB;QACrB,WAAM,GAAN,MAAM,CAAQ;QACd,0BAAqB,GAArB,qBAAqB,CAAuB;QAC5C,iBAAY,GAAZ,YAAY,CAAc;QARtC,UAAK,GAAQ,EAAE,CAAC;QAChB,YAAO,GAAG,KAAK,CAAC;IAQR,CAAC;IAET,iCAAQ,GAAR;QACI,qBAAqB;QACrB,IAAI,CAAC,qBAAqB,CAAC,MAAM,EAAE,CAAC;QAEpC,yDAAyD;QACzD,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,WAAW,CAAC,WAAW,CAAC,IAAI,GAAG,CAAC;IACzE,CAAC;IAED,8BAAK,GAAL;QAAA,iBAWC;QAVG,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACpB,IAAI,CAAC,qBAAqB,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC;aACrE,SAAS,CACN,UAAA,IAAI;YACA,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,KAAI,CAAC,SAAS,CAAC,CAAC,CAAC;QAC3C,CAAC,EACD,UAAA,KAAK;YACD,KAAI,CAAC,YAAY,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;YAC/B,KAAI,CAAC,OAAO,GAAG,KAAK,CAAC;QACzB,CAAC,CAAC,CAAC;IACf,CAAC;IAnCL;QAAC,gBAAS,CAAC;YACP,QAAQ,EAAE,8BAAQ;SACrB,CAAC;;sBAAA;IAkCF,qBAAC;AAAD,CAAC,AAhCD,IAgCC;AAhCY,sBAAc,iBAgC1B,CAAA","sourcesContent":["import template from './login.component.html';\nimport { Component, OnInit } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\n \nimport { AlertService, AuthenticationService } from '../_services/index';\n \n@Component({\n    template: template\n})\n\nexport class LoginComponent implements OnInit {\n    model: any = {};\n    loading = false;\n    returnUrl: string;\n \n    constructor(\n        private route: ActivatedRoute,\n        private router: Router,\n        private authenticationService: AuthenticationService,\n        private alertService: AlertService\n        ) { }\n \n    ngOnInit() {\n        // reset login status\n        this.authenticationService.logout();\n \n        // get return url from route parameters or default to '/'\n        this.returnUrl = this.route.snapshot.queryParams['returnUrl'] || '/';\n    }\n \n    login() {\n        this.loading = true;\n        this.authenticationService.login(this.model.username, this.model.password)\n            .subscribe(\n                data => {\n                    this.router.navigate([this.returnUrl]);\n                },\n                error => {\n                    this.alertService.error(error);\n                    this.loading = false;\n                });\n    }\n}\n"]},"version":"1","isExternal":true,"references":{"files":[],"modules":["client/imports/app/_services/index.ts"],"typings":[]},"diagnostics":{"syntacticErrors":[],"semanticErrors":[{"code":2304,"fileName":"client/imports/app/login/login.component.ts","message":"Cannot find name 'OnInit'.","line":11,"column":40},{"code":2304,"fileName":"client/imports/app/login/login.component.ts","message":"Cannot find name 'ActivatedRoute'.","line":17,"column":24},{"code":2304,"fileName":"client/imports/app/login/login.component.ts","message":"Cannot find name 'Router'.","line":18,"column":25}]},"hash":"6d0c0b13eea0205098007d7e3169d25dcf9ec1ef"}