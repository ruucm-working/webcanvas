{"code":"var core_1 = require('@angular/core');\r\nvar canvas_contents_js_1 = require('../../../../imports/api/canvas-contents.js');\r\nvar canvas0218_service_1 = require('../_mojs_services/canvas0218.service');\r\nvar router_1 = require('@angular/router');\r\nvar canvas_component_html_1 = require('./canvas.component.html');\r\nvar _0218_css_1 = require('../css/0218.css');\r\nvar myGlobals = require('../globals');\r\nvar TotalCanvas = (function () {\r\n    function TotalCanvas() {\r\n    }\r\n    return TotalCanvas;\r\n}());\r\nexports.TotalCanvas = TotalCanvas;\r\nvar TEST_CANVASES = [\r\n    { contentid: 11, content: [{ id: 31, text: 'slide-text01' }, { id: 32, text: 'slide-text02' }] },\r\n    { contentid: 12, content: [{ id: 41, text: 'slide-text11' }, { id: 42, text: 'slide-text12' }] },\r\n    { contentid: 13, content: [{ id: 51, text: 'slide-text21' }, { id: 52, text: 'slide-text22' }] },\r\n];\r\nvar CanvasComponent = (function () {\r\n    function CanvasComponent(_service2, router) {\r\n        var _this = this;\r\n        this._service2 = _service2;\r\n        this.router = router;\r\n        this.newText = '';\r\n        this.current_canvas = this.get_canvases(1);\r\n        router.events.forEach(function (event) {\r\n            console.log('router event!');\r\n            console.log('event : ' + event);\r\n            console.log('event.url : ' + event.url);\r\n            if (event.url == \"/slider-dashboard\" || event.url == \"/slider-dashboard#firstPage\") {\r\n                _this.stop_other_anims();\r\n                console.log('I am in but,');\r\n                myGlobals.title_timeline.play();\r\n            }\r\n            if (event instanceof router_1.NavigationStart) {\r\n                _this.stop_other_anims();\r\n                if (event.url == \"/slider-dashboard#firstPage/1\")\r\n                    myGlobals.global_timeline.play();\r\n                if (event.url == \"/slider-dashboard#firstPage/2\")\r\n                    myGlobals.burst_timeline.play();\r\n                if (event.url == \"/slider-dashboard#firstPage/3\")\r\n                    myGlobals.scene03_timeline.play();\r\n                if (event.url == \"/slider-dashboard#firstPage/4\")\r\n                    myGlobals.scene04_timeline.play();\r\n            }\r\n        });\r\n    }\r\n    CanvasComponent.prototype.stop_other_anims = function () {\r\n        myGlobals.title_timeline.stop();\r\n        myGlobals.global_timeline.stop();\r\n        myGlobals.burst_timeline.stop();\r\n        myGlobals.scene03_timeline.stop();\r\n        myGlobals.scene04_timeline.stop();\r\n    };\r\n    CanvasComponent.prototype.get_canvases = function (which_canvas) {\r\n        if (which_canvas == 1)\r\n            this._service2.anim_init();\r\n        if (!isNaN(which_canvas)) {\r\n            this.current_canvas_id = which_canvas;\r\n            return canvas_contents_js_1.CanvasContents.find().map(function (messages) { return messages; })[this.current_canvas_id - 1].content;\r\n        }\r\n        else if (which_canvas == 'prev') {\r\n            this.current_canvas_id -= 1;\r\n            if (this.current_canvas_id - 1 < 0) {\r\n                alert('It is the First Canvas!');\r\n                this.current_canvas_id += 1;\r\n            }\r\n            else\r\n                this.current_canvas = this.get_canvases(this.current_canvas_id);\r\n        }\r\n        else if (which_canvas == 'next') {\r\n            console.log('Get Next');\r\n            console.log('this.current_canvas_id');\r\n            console.log(this.current_canvas_id);\r\n            this.current_canvas_id += 1;\r\n            if (this.current_canvas_id - 1 >= canvas_contents_js_1.CanvasContents.find().map(function (messages) { return messages; }).length) {\r\n                alert('It is the Last Canvas!');\r\n                this.current_canvas_id -= 1;\r\n            }\r\n            else\r\n                this.current_canvas = this.get_canvases(this.current_canvas_id);\r\n        }\r\n        return '';\r\n    };\r\n    CanvasComponent.prototype.prev_from_current_canvase = function () {\r\n        this.get_canvases('prev');\r\n        this.updatefullpage();\r\n    };\r\n    CanvasComponent.prototype.next_from_current_canvase = function () {\r\n        this.get_canvases('next');\r\n        this.updatefullpage();\r\n    };\r\n    CanvasComponent.prototype.updatefullpage = function () {\r\n        var reloadfullpage = function () {\r\n            $('#fullpage').fullpage({\r\n                menu: '#menu',\r\n                lockAnchors: false,\r\n                anchors: ['firstPage', 'secondPage'],\r\n                navigation: true,\r\n                navigationPosition: 'right',\r\n                navigationTooltips: ['firstSlide', 'secondSlide'],\r\n                showActiveTooltip: true,\r\n                slidesNavigation: true,\r\n                slidesNavPosition: 'top',\r\n                sectionsColor: ['yellow', '#4BBFC3', '#7BAABE', '#F5E0E0', '#000'],\r\n            });\r\n        };\r\n        //Promise 선언\r\n        var _promise = function (param) {\r\n            return new Promise(function (resolve, reject) {\r\n                // 비동기를 표현하기 위해 setTimeout 함수를 사용 \r\n                window.setTimeout(function () {\r\n                    // 파라메터가 참이면, \r\n                    if (param) {\r\n                        // 해결됨 \r\n                        resolve(\"해결 완료\");\r\n                    }\r\n                    else {\r\n                        // 실패 \r\n                        reject(Error(\"실패!!\"));\r\n                    }\r\n                }, 0);\r\n            });\r\n        };\r\n        //Promise 실행\r\n        _promise(this.destroyfullpage())\r\n            .then(function (text) {\r\n            // 성공시\r\n            reloadfullpage();\r\n            console.log(text);\r\n        }, function (error) {\r\n            // 실패시 \r\n            console.error(error);\r\n        });\r\n    };\r\n    CanvasComponent.prototype.destroyfullpage = function () {\r\n        if ($('html').hasClass('fp-enabled')) {\r\n            $.fn.fullpage.destroy('all');\r\n        }\r\n        return true;\r\n    };\r\n    CanvasComponent.prototype.ngOnChanges = function () {\r\n        console.log('ngOnChange canvas.component');\r\n    };\r\n    CanvasComponent.prototype.ngOnInit = function () {\r\n        console.log('ngOnInit canvas.component');\r\n        $(document).ready(function () {\r\n            var burst = new mojs.Burst({\r\n                left: 0, top: 0,\r\n                radius: { 0: 300 },\r\n                count: 3,\r\n                degree: 30,\r\n                angle: { 0: 60 },\r\n                opacity: { 1: 0 },\r\n            });\r\n            var burst2 = new mojs.Burst({\r\n                left: 0, top: 0,\r\n                radius: { 0: 300 },\r\n                count: 3,\r\n                degree: 30,\r\n                angle: { 0: 60 },\r\n                opacity: { 1: 0 },\r\n                children: {\r\n                    fill: { 'cyan': 'yellow' },\r\n                    radius: 20,\r\n                    duration: 5000\r\n                },\r\n            });\r\n            document.addEventListener('click', function (e) {\r\n                burst2\r\n                    .tune({ x: e.pageX, y: e.pageY })\r\n                    .setSpeed(3)\r\n                    .replay();\r\n            });\r\n            var CHAR_STEP = 50;\r\n            var bounceCurve = mojs.easing.path('M0,-100 C0,-100 15.6877613,115.487686 32.0269814,74.203186 C62.0118605,-1.559962 100.057489,-0.0941416292 100.057489,-0.0941416292');\r\n            var nBounceCurve = function (p) { return 2 - bounceCurve(p); };\r\n            Y_SHIFT = -20;\r\n            X_SHIFT = CHAR_STEP / 2;\r\n            var Underline = (function (_super) {\r\n                __extends(Underline, _super);\r\n                function Underline() {\r\n                    _super.apply(this, arguments);\r\n                }\r\n                Underline.prototype.getShape = function () { return '<path d=\"M2.5,50.3296666 C3.31230785,50.3563224 4.33314197,51.7391553 5.26159075,51.244112 C6.0077473,50.8462659 7.06209448,50.3203773 7.71562592,50.3296666 C8.76504493,50.344583 10.5026522,50.7289147 10.5026522,50.7289147 C10.5026522,50.7289147 12.2264054,51.3540485 14.3045941,51.244112 C15.3644039,51.1880478 16.0579859,49.0942327 17.5373074,49.0205791 C18.3943409,48.9779084 19.7113596,50.7755195 20.6875422,50.7289147 C21.6556682,50.6826945 22.3001602,49.0692534 23.3699153,49.0205791 C24.1641633,48.9844405 26.4617126,51.2809265 27.3045404,51.244112 C28.6211722,51.1866018 29.868997,49.0779353 31.2843519,49.0205791 C32.5621635,48.9687968 34.5177647,50.7788661 35.8572938,50.7289147 C36.7433562,50.6958732 38.2335712,49.0522313 39.1401705,49.0205791 C39.9800278,48.9912571 40.561996,49.9055655 41.4152209,49.877823 C42.1696178,49.8532938 42.2680621,50.7519349 43.0298941,50.7289147 C43.9790327,50.7002347 44.036439,49.4065744 44.9921859,49.3806853 C45.4945214,49.3670781 46.5973018,48.5718404 47.1003097,48.559109 C48.1308079,48.5330267 48.971762,50.3516106 49.9999991,50.3296666 C50.8452183,50.3116285 50.5604619,49.1586632 51.3999478,49.1438038 C51.9113862,49.134751 53.4831103,48.5668789 53.9912876,48.559109 C54.882369,48.5454847 55.8282738,48.5684585 56.7056958,48.559109 C57.5279585,48.5503473 57.7153436,49.0252286 58.5216754,49.0205791 C59.2920272,49.016137 59.891015,48.0863678 60.6434283,48.0859881 C61.5658387,48.0855227 62.142412,49.0587083 63.0323087,49.0648534 C63.7314385,49.0696813 66.0372641,48.0767735 66.712955,48.0859881 C68.0228785,48.1038519 67.6682957,49.130074 68.8737479,49.1659145 C69.5874211,49.1871333 71.5986501,48.5310407 72.2696752,48.559109 C73.0379259,48.5912442 75.275178,49.892825 76.2284459,49.877823 C77.75882,49.8537388 76.8128295,49.1641707 78.6451998,49.0836451 C79.7893236,49.0333653 80.4770207,49.924725 81.6706526,49.877823 C83.0151778,49.8249918 82.7003946,49.0428007 84.0369748,49.0205791 C84.9618645,49.0052021 86.6077598,49.8672453 87.4984761,49.877823 C88.1326772,49.8853544 90.8057301,49.8531233 91.4118266,49.877823 C92.2804437,49.9132209 93.4120929,49.7988292 94.2005825,49.877823 C95.0771269,49.9656384 95.2679881,49.7233196 96.0110715,49.877823 C96.6642711,50.0136376 96.9762504,49.6806854 97.5,49.877823\"></path>'; };\r\n                Underline.prototype.getLength = function () { return 100; };\r\n                return Underline;\r\n            }(mojs.CustomShape));\r\n            mojs.addShape('underline', Underline);\r\n            var COLORS = {\r\n                RED: '#FD5061',\r\n                YELLOW: '#FFCEA5',\r\n                BLACK: '#29363B',\r\n                WHITE: 'white',\r\n                VINOUS: '#A50710'\r\n            };\r\n            var undeline = new mojs.Shape({\r\n                shape: 'underline',\r\n                fill: 'none',\r\n                radius: 75,\r\n                y: 20,\r\n                duration: 600,\r\n                scaleX: { 2: 1 },\r\n                origin: '0 50%',\r\n                easing: 'cubic.out',\r\n                delay: 675,\r\n                stroke: COLORS.VINOUS,\r\n                strokeWidth: 4,\r\n                strokeLinecap: 'round',\r\n                strokeDasharray: '100',\r\n                strokeDashoffset: { '100': 0 }\r\n            });\r\n            var wordTimeline = new mojs.Timeline({ delay: 1600 });\r\n            wordTimeline\r\n                .add();\r\n            var timeline = new mojs.Timeline();\r\n            timeline.add(wordTimeline);\r\n            // new MojsPlayer({ add: timeline });\r\n            // timeline.play();\r\n        });\r\n    };\r\n    CanvasComponent.prototype.ngOnDestory = function () {\r\n        console.log('ngOnDestory at canvas.component');\r\n    };\r\n    CanvasComponent = __decorate([\r\n        core_1.Component({\r\n            selector: 'my-canvases',\r\n            template: canvas_component_html_1.default,\r\n            styles: [\"\\n\\t.mycanvases {\\n\\t\\theight: 100%;\\n\\t\\tposition: absolute;\\n\\t\\twidth: 100%;\\n\\t\\tbackground: pink;\\n\\t}\"],\r\n            feb01_css: _0218_css_1.default,\r\n            providers: [canvas0218_service_1.Canvas0218Service]\r\n        }), \r\n        __metadata('design:paramtypes', [canvas0218_service_1.Canvas0218Service, Object])\r\n    ], CanvasComponent);\r\n    return CanvasComponent;\r\n}());\r\nexports.CanvasComponent = CanvasComponent;\r\n//# sourceMappingURL=canvas.component.js.map","sourceMap":{"version":3,"file":"canvas.component.js","sourceRoot":"","sources":["client/imports/app/_canvas/canvas.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { CanvasContents } from '../../../../imports/api/canvas-contents.js';\nimport { Canvas } from './canvas.ts';\nimport { Canvas0218Service } from '../_mojs_services/canvas0218.service';\nimport { Router, NavigationStart, NavigationEnd, NavigationError, NavigationCancel, RoutesRecognized } from '@angular/router';\nimport template from './canvas.component.html';\nimport feb01_css from '../css/0218.css';\nimport myGlobals = require('../globals');\n\nexport class TotalCanvas {\n\tcontentid: number;\n\tcontent: Canvas[];\n}\nconst TEST_CANVASES: TotalCanvas[] = [\n\t{ contentid: 11, content: [ { id: 31, text: 'slide-text01'}, { id: 32, text: 'slide-text02'} ] },\n\t{ contentid: 12, content: [ { id: 41, text: 'slide-text11'}, { id: 42, text: 'slide-text12'} ] },\n\t{ contentid: 13, content: [ { id: 51, text: 'slide-text21'}, { id: 52, text: 'slide-text22'} ] },\n];\n@Component({\n\tselector: 'my-canvases',\n\ttemplate: template,\n\tstyles: [ `\n\t.mycanvases {\n\t\theight: 100%;\n\t\tposition: absolute;\n\t\twidth: 100%;\n\t\tbackground: pink;\n\t}` ],\n\tfeb01_css,\n\tproviders: [ Canvas0218Service ]\n})\nexport class CanvasComponent implements OnInit, OnDestory, OnChanges {\n\tnewText = '';\n\tcurrent_canvas = this.get_canvases(1);\n\tcurrent_canvas_id: number;\n\n\tconstructor(\n\t\tprivate _service2:Canvas0218Service,\n\t\tprivate router: Router ) {\n\t\trouter.events.forEach((event) => {\n\t\t\tconsole.log('router event!');\n\t\t\tconsole.log('event : ' + event);\n\t\t\tconsole.log('event.url : ' + event.url);\n\t\t\tif (event.url == \"/slider-dashboard\" || event.url == \"/slider-dashboard#firstPage\") {\n\t\t\t\tthis.stop_other_anims();\n\t\t\t\tconsole.log('I am in but,');\n\t\t\t\tmyGlobals.title_timeline.play();\n\t\t\t}\n\t\t\tif (event instanceof NavigationStart) {\n\t\t\t\tthis.stop_other_anims();\n\t\t\t\tif (event.url == \"/slider-dashboard#firstPage/1\")\n\t\t\t\t\tmyGlobals.global_timeline.play();\n\t\t\t\tif (event.url == \"/slider-dashboard#firstPage/2\")\n\t\t\t\t\tmyGlobals.burst_timeline.play();\n\t\t\t\tif (event.url == \"/slider-dashboard#firstPage/3\")\n\t\t\t\t\tmyGlobals.scene03_timeline.play();\n\t\t\t\tif (event.url == \"/slider-dashboard#firstPage/4\")\n\t\t\t\t\tmyGlobals.scene04_timeline.play();\n\n\t\t\t}\n\t\t});\n\t}\n\tstop_other_anims() {\n\t\tmyGlobals.title_timeline.stop();\n\t\tmyGlobals.global_timeline.stop();\n\t\tmyGlobals.burst_timeline.stop();\n\t\tmyGlobals.scene03_timeline.stop();\n\t\tmyGlobals.scene04_timeline.stop();\n\t}\n\tget_canvases(which_canvas): Canvas[] {\n\t\tif (which_canvas == 1)\n\t\t\tthis._service2.anim_init();\n\t\tif (!isNaN(which_canvas)) {\n\t\t\tthis.current_canvas_id = which_canvas;\n\t\t\treturn CanvasContents.find().map((messages: Canvas[]) => { return messages; })[this.current_canvas_id - 1].content;\n\t\t} else if(which_canvas == 'prev') {\n\t\t\tthis.current_canvas_id -= 1;\n\t\t\tif (this.current_canvas_id - 1 < 0) {\n\t\t\t\talert('It is the First Canvas!');\n\t\t\t\tthis.current_canvas_id += 1;\n\t\t\t} else\n\t\t\t\tthis.current_canvas = this.get_canvases(this.current_canvas_id);\n\t\t} else if(which_canvas == 'next') {\n\t\t\tconsole.log('Get Next');\n\t\t\tconsole.log('this.current_canvas_id');\n\t\t\tconsole.log(this.current_canvas_id);\n\t\t\tthis.current_canvas_id += 1;\n\t\t\tif (this.current_canvas_id - 1 >= CanvasContents.find().map((messages: Canvas[]) => { return messages; }).length) {\n\t\t\t\talert('It is the Last Canvas!');\n\t\t\t\tthis.current_canvas_id -= 1;\n\t\t\t} else\n\t\t\t\tthis.current_canvas = this.get_canvases(this.current_canvas_id);\n\t\t}\n\t\treturn '';\n\t}\n\tprev_from_current_canvase() {\n\t\tthis.get_canvases('prev');\n\t\tthis.updatefullpage();\n\t}\n\tnext_from_current_canvase() {\n\t\tthis.get_canvases('next');\n\t\tthis.updatefullpage();\n\t}\n\tupdatefullpage() {\n\t\tvar reloadfullpage = function() {\n\t\t\t$('#fullpage').fullpage({\n\t\t\t\tmenu: '#menu',\n\t\t\t\tlockAnchors: false,\n\t\t\t\tanchors:['firstPage', 'secondPage'],\n\t\t\t\tnavigation: true,\n\t\t\t\tnavigationPosition: 'right',\n\t\t\t\tnavigationTooltips: ['firstSlide', 'secondSlide'],\n\t\t\t\tshowActiveTooltip: true,\n\t\t\t\tslidesNavigation: true,\n\t\t\t\tslidesNavPosition: 'top',\n\t\t\t\tsectionsColor: ['yellow', '#4BBFC3', '#7BAABE', '#F5E0E0', '#000'],\n\t\t\t});\n\t\t}\n\t\t//Promise 선언\n\t\tvar _promise = function (param) {\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\t// 비동기를 표현하기 위해 setTimeout 함수를 사용 \n\t\t\t\twindow.setTimeout(function () {\n\t\t\t\t\t// 파라메터가 참이면, \n\t\t\t\t\tif (param) {\n\t\t\t\t\t\t// 해결됨 \n\t\t\t\t\t\tresolve(\"해결 완료\");\n\t\t\t\t\t}\n\t\t\t\t\t// 파라메터가 거짓이면, \n\t\t\t\t\telse {\n\t\t\t\t\t\t// 실패 \n\t\t\t\t\t\treject(Error(\"실패!!\"));\n\t\t\t\t\t}\n\t\t\t\t}, 0);\n\t\t\t});\n\t\t};\n\t\t//Promise 실행\n\t\t_promise(this.destroyfullpage())\n\t\t.then(function (text) {\n\t\t\t// 성공시\n\t\t\treloadfullpage();\n\t\t\tconsole.log(text);\n\t\t}, function (error) {\n\t\t\t// 실패시 \n\t\t\tconsole.error(error);\n\t\t});\n\t}\n\tdestroyfullpage() {\n\t\tif($('html').hasClass('fp-enabled')){\n\t\t    $.fn.fullpage.destroy('all');\n\t\t}\n\t\treturn true;\n\t}\n\tngOnChanges() {\n\t\tconsole.log('ngOnChange canvas.component');\n\t}\n\tngOnInit() {\n\t\tconsole.log('ngOnInit canvas.component');\n\n\t\t$( document ).ready(function() {\n\t\t\tconst burst = new mojs.Burst({\n\t\t\t\tleft: 0, top: 0,\n\t\t\t\tradius: { 0: 300 },\n\t\t\t\tcount: 3,\n\t\t\t\tdegree: 30,\n\t\t\t\tangle: { 0: 60 },\n\t\t\t\topacity: { 1: 0 },\n\t\t\t});\n\t\t\tconst burst2 = new mojs.Burst({\n\t\t\t\tleft: 0, top: 0,\n\t\t\t\tradius: { 0: 300 },\n\t\t\t\tcount: 3,\n\t\t\t\tdegree: 30,\n\t\t\t\tangle: { 0: 60 },\n\t\t\t\topacity: { 1: 0 },\n\t\t\t\tchildren: {\n\t\t\t\t\tfill: { 'cyan' : 'yellow' },\n\t\t\t\t\tradius:       20,\n\t\t\t\t\tduration: 5000\n\t\t\t\t},\n\t\t\t});\n\t\t\tdocument.addEventListener( 'click', function (e) {\n\t\t\t\tburst2\n\t\t\t\t  .tune({ x: e.pageX, y: e.pageY })\n\t\t\t\t  .setSpeed(3)\n\t\t\t\t  .replay();\n\t\t\t\t});\n\t\t\tlet CHAR_STEP  = 50;\n\t\t\tconst bounceCurve = mojs.easing.path('M0,-100 C0,-100 15.6877613,115.487686 32.0269814,74.203186 C62.0118605,-1.559962 100.057489,-0.0941416292 100.057489,-0.0941416292');\n\t\t\tconst nBounceCurve = (p) => { return 2 - bounceCurve(p) };\n\t\t\tY_SHIFT    = -20;\n\t\t\tX_SHIFT    = CHAR_STEP/2;\n\t\t\tclass Underline extends mojs.CustomShape {\n\t\t\t  getShape () { return '<path d=\"M2.5,50.3296666 C3.31230785,50.3563224 4.33314197,51.7391553 5.26159075,51.244112 C6.0077473,50.8462659 7.06209448,50.3203773 7.71562592,50.3296666 C8.76504493,50.344583 10.5026522,50.7289147 10.5026522,50.7289147 C10.5026522,50.7289147 12.2264054,51.3540485 14.3045941,51.244112 C15.3644039,51.1880478 16.0579859,49.0942327 17.5373074,49.0205791 C18.3943409,48.9779084 19.7113596,50.7755195 20.6875422,50.7289147 C21.6556682,50.6826945 22.3001602,49.0692534 23.3699153,49.0205791 C24.1641633,48.9844405 26.4617126,51.2809265 27.3045404,51.244112 C28.6211722,51.1866018 29.868997,49.0779353 31.2843519,49.0205791 C32.5621635,48.9687968 34.5177647,50.7788661 35.8572938,50.7289147 C36.7433562,50.6958732 38.2335712,49.0522313 39.1401705,49.0205791 C39.9800278,48.9912571 40.561996,49.9055655 41.4152209,49.877823 C42.1696178,49.8532938 42.2680621,50.7519349 43.0298941,50.7289147 C43.9790327,50.7002347 44.036439,49.4065744 44.9921859,49.3806853 C45.4945214,49.3670781 46.5973018,48.5718404 47.1003097,48.559109 C48.1308079,48.5330267 48.971762,50.3516106 49.9999991,50.3296666 C50.8452183,50.3116285 50.5604619,49.1586632 51.3999478,49.1438038 C51.9113862,49.134751 53.4831103,48.5668789 53.9912876,48.559109 C54.882369,48.5454847 55.8282738,48.5684585 56.7056958,48.559109 C57.5279585,48.5503473 57.7153436,49.0252286 58.5216754,49.0205791 C59.2920272,49.016137 59.891015,48.0863678 60.6434283,48.0859881 C61.5658387,48.0855227 62.142412,49.0587083 63.0323087,49.0648534 C63.7314385,49.0696813 66.0372641,48.0767735 66.712955,48.0859881 C68.0228785,48.1038519 67.6682957,49.130074 68.8737479,49.1659145 C69.5874211,49.1871333 71.5986501,48.5310407 72.2696752,48.559109 C73.0379259,48.5912442 75.275178,49.892825 76.2284459,49.877823 C77.75882,49.8537388 76.8128295,49.1641707 78.6451998,49.0836451 C79.7893236,49.0333653 80.4770207,49.924725 81.6706526,49.877823 C83.0151778,49.8249918 82.7003946,49.0428007 84.0369748,49.0205791 C84.9618645,49.0052021 86.6077598,49.8672453 87.4984761,49.877823 C88.1326772,49.8853544 90.8057301,49.8531233 91.4118266,49.877823 C92.2804437,49.9132209 93.4120929,49.7988292 94.2005825,49.877823 C95.0771269,49.9656384 95.2679881,49.7233196 96.0110715,49.877823 C96.6642711,50.0136376 96.9762504,49.6806854 97.5,49.877823\"></path>'; }\n\t\t\t  getLength () { return 100; }\n\t\t\t}\n\t\t\tmojs.addShape( 'underline', Underline );\n\t\t\tconst COLORS = {\n\t\t\t\tRED:      '#FD5061',\n\t\t\t\tYELLOW:   '#FFCEA5',\n\t\t\t\tBLACK:    '#29363B',\n\t\t\t\tWHITE:    'white',\n\t\t\t\tVINOUS:   '#A50710'\n\t\t\t}\n\t\t\tconst undeline = new mojs.Shape({\n\t\t\t\tshape: 'underline',\n\t\t\t\tfill: 'none',\n\t\t\t\tradius:   75,\n\t\t\t\ty: 20,\n\t\t\t\tduration: 600,\n\t\t\t\tscaleX: { 2: 1 },\n\t\t\t\torigin: '0 50%',\n\t\t\t\teasing: 'cubic.out',\n\t\t\t\tdelay:  675,\n\t\t\t\tstroke: COLORS.VINOUS,\n\t\t\t\tstrokeWidth: 4,\n\t\t\t\tstrokeLinecap: 'round',\n\t\t\t\tstrokeDasharray:  '100',\n\t\t\t\tstrokeDashoffset: { '100': 0 }\n\t\t\t});\n\t\t\tconst wordTimeline = new mojs.Timeline({ delay: 1600 });\n\t\t\twordTimeline\n\t\t\t\t.add(\n\t\t\t\t    // word_char3,\n\t\t\t\t    // undeline\n\t\t\t);\n\n\t\t\tconst timeline = new mojs.Timeline();\n\t\t\ttimeline.add( wordTimeline, \n\t\t\t\t// leg_left\n\t\t\t\t);\n\t\t\t// new MojsPlayer({ add: timeline });\n\t\t\t// timeline.play();\n\t\t});\n\t}\n\tngOnDestory() {\n\t\tconsole.log('ngOnDestory at canvas.component');\n\t}\n}\n"]},"version":"1","isExternal":true,"references":{"files":[],"modules":["client/imports/app/_canvas/canvas.ts","client/imports/app/_mojs_services/canvas0218.service.ts","client/imports/app/globals.ts"],"typings":[]},"diagnostics":{"syntacticErrors":[],"semanticErrors":[{"code":2304,"fileName":"client/imports/app/_canvas/canvas.component.ts","message":"Cannot find name 'OnInit'.","line":32,"column":41},{"code":2304,"fileName":"client/imports/app/_canvas/canvas.component.ts","message":"Cannot find name 'OnDestory'.","line":32,"column":49},{"code":2304,"fileName":"client/imports/app/_canvas/canvas.component.ts","message":"Cannot find name 'OnChanges'.","line":32,"column":60},{"code":2304,"fileName":"client/imports/app/_canvas/canvas.component.ts","message":"Cannot find name 'Router'.","line":39,"column":19},{"code":2322,"fileName":"client/imports/app/_canvas/canvas.component.ts","message":"Type 'string' is not assignable to type 'Canvas[]'.","line":94,"column":10},{"code":2304,"fileName":"client/imports/app/_canvas/canvas.component.ts","message":"Cannot find name '$'.","line":106,"column":4},{"code":2304,"fileName":"client/imports/app/_canvas/canvas.component.ts","message":"Cannot find name '$'.","line":149,"column":6},{"code":2304,"fileName":"client/imports/app/_canvas/canvas.component.ts","message":"Cannot find name '$'.","line":150,"column":7},{"code":2304,"fileName":"client/imports/app/_canvas/canvas.component.ts","message":"Cannot find name '$'.","line":160,"column":3},{"code":2304,"fileName":"client/imports/app/_canvas/canvas.component.ts","message":"Cannot find name 'mojs'.","line":161,"column":22},{"code":2304,"fileName":"client/imports/app/_canvas/canvas.component.ts","message":"Cannot find name 'mojs'.","line":169,"column":23},{"code":2304,"fileName":"client/imports/app/_canvas/canvas.component.ts","message":"Cannot find name 'mojs'.","line":189,"column":24},{"code":2304,"fileName":"client/imports/app/_canvas/canvas.component.ts","message":"Cannot find name 'Y_SHIFT'.","line":191,"column":4},{"code":2304,"fileName":"client/imports/app/_canvas/canvas.component.ts","message":"Cannot find name 'X_SHIFT'.","line":192,"column":4},{"code":2304,"fileName":"client/imports/app/_canvas/canvas.component.ts","message":"Cannot find name 'mojs'.","line":193,"column":28},{"code":2304,"fileName":"client/imports/app/_canvas/canvas.component.ts","message":"Cannot find name 'mojs'.","line":197,"column":4},{"code":2304,"fileName":"client/imports/app/_canvas/canvas.component.ts","message":"Cannot find name 'mojs'.","line":205,"column":25},{"code":2304,"fileName":"client/imports/app/_canvas/canvas.component.ts","message":"Cannot find name 'mojs'.","line":221,"column":29},{"code":2304,"fileName":"client/imports/app/_canvas/canvas.component.ts","message":"Cannot find name 'mojs'.","line":228,"column":25}]},"hash":"064866c02fc60157ee386883a901346a5be4dcf9"}