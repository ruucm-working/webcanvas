{"code":"var core_1 = require('@angular/core');\r\nvar authentication_service_1 = require('../_simple_login/authentication.service');\r\nvar canvas_contents_js_1 = require('../../../../imports/api/canvas-contents.js');\r\nvar AdminComponent = (function () {\r\n    function AdminComponent(_service) {\r\n        this._service = _service;\r\n        this.canvas_title = '';\r\n        this.my_canvases = this.get_canvases();\r\n        this.editorContent = 'My Document\\'s Contents';\r\n    }\r\n    AdminComponent.prototype.ngOnInit = function () {\r\n        this._service.checkCredentials();\r\n    };\r\n    AdminComponent.prototype.logout = function () {\r\n        this._service.logout();\r\n    };\r\n    AdminComponent.prototype.addCanvas = function (canvas_title) {\r\n        var inital_value = [{ id: 1, text: canvas_title }];\r\n        var content_length = canvas_contents_js_1.CanvasContents.find().map(function (messages) { return messages; }).length;\r\n        canvas_contents_js_1.CanvasContents.insert({\r\n            contentid: content_length + 1,\r\n            content: inital_value,\r\n            createdAt: new Date,\r\n        });\r\n        this.canvas_title = '';\r\n        this.my_canvases = this.get_canvases();\r\n    };\r\n    AdminComponent.prototype.addCanvasContents = function (canvas, editorContent) {\r\n        console.log('canvas._id : ');\r\n        console.log(canvas._id);\r\n        var value = canvas.content;\r\n        value.push({ id: value.length + 1, text: editorContent, createdAt: new Date, });\r\n        canvas_contents_js_1.CanvasContents.update(canvas._id, {\r\n            $set: {\r\n                content: value\r\n            },\r\n        });\r\n        this.editorContent = '';\r\n    };\r\n    AdminComponent.prototype.get_canvases = function () {\r\n        return canvas_contents_js_1.CanvasContents.find().map(function (messages) { return messages; });\r\n    };\r\n    AdminComponent = __decorate([\r\n        core_1.Component({\r\n            selector: 'my-admin',\r\n            providers: [authentication_service_1.AuthenticationService],\r\n            template: \"\\n\\t\\t<div>Hello, Admin</div>\\n\\t\\t<h2>Canvas Editor</h2>\\n\\t\\t<form (ngSubmit)=\\\"addCanvas(canvas_title)\\\">\\n\\t\\t\\t<input [(ngModel)]=\\\"canvas_title\\\" type=\\\"text\\\" name=\\\"text\\\" placeholder=\\\"Make a new Canvas\\\"/>\\n\\t\\t</form>\\n\\t\\t<div [froalaEditor] [(froalaModel)]=\\\"editorContent\\\"></div>\\n\\t\\t<h3>Html :</h3><div>{{editorContent}}</div>\\n\\t\\t<h3>Output :</h3><div [froalaView]=\\\"editorContent\\\"></div>\\n\\t\\t<br>\\n\\t\\t<a routerLink=\\\"/home\\\">go back to home</a>\\n\\t\\t<a routerLink=\\\"/slider-dashboard\\\">Slider Dashboard</a>\\n\\t\\t<button (click)=\\\"logout()\\\">Click Here to logout</button>\\n\\t\\t<div *ngFor=\\\"let canvas of my_canvases; let i=index\\\">\\n\\t\\t\\tcanvas {{i+1}} : \\n\\t\\t\\t<button (click)=\\\"addCanvasContents(canvas, editorContent)\\\">Edit</button>\\n\\t\\t</div>\\n\\t\",\r\n        }), \r\n        __metadata('design:paramtypes', [authentication_service_1.AuthenticationService])\r\n    ], AdminComponent);\r\n    return AdminComponent;\r\n}());\r\nexports.AdminComponent = AdminComponent;\r\n//# sourceMappingURL=admin.component.js.map","sourceMap":{"version":3,"file":"admin.component.js","sourceRoot":"","sources":["client/imports/app/_admin/admin.component.ts"],"names":[],"mappings":"AAAA,qBAA0B,eAAe,CAAC,CAAA;AAC1C,uCAAsC,yCACtC,CAAC,CAD8E;AAC/E,mCAA+B,4CAA4C,CAAC,CAAA;AAyB5E;IAKC,wBACS,QAA8B;QAA9B,aAAQ,GAAR,QAAQ,CAAsB;QALvC,iBAAY,GAAG,EAAE,CAAC;QAClB,gBAAW,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;QAC3B,kBAAa,GAAW,yBAAyB,CAAA;IAGf,CAAC;IAC1C,iCAAQ,GAAR;QACC,IAAI,CAAC,QAAQ,CAAC,gBAAgB,EAAE,CAAC;IAClC,CAAC;IACD,+BAAM,GAAN;QACC,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;IACxB,CAAC;IACD,kCAAS,GAAT,UAAU,YAAY;QACrB,IAAI,YAAY,GAAG,CAAE,EAAE,EAAE,EAAE,CAAC,EAAE,IAAI,EAAE,YAAY,EAAC,CAAE,CAAC;QACpD,IAAI,cAAc,GAAG,mCAAc,CAAC,IAAI,EAAE,CAAC,GAAG,CAAC,UAAC,QAAkB,IAAO,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;QACpG,mCAAc,CAAC,MAAM,CAAC;YACrB,SAAS,EAAE,cAAc,GAAG,CAAC;YAC7B,OAAO,EAAE,YAAY;YACrB,SAAS,EAAE,IAAI,IAAI;SACnB,CAAC,CAAC;QACH,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;QACvB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;IACxC,CAAC;IACD,0CAAiB,GAAjB,UAAkB,MAAM,EAAE,aAAa;QACtC,OAAO,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;QAC7B,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;QACxB,IAAI,KAAK,GAAG,MAAM,CAAC,OAAO,CAAC;QAC3B,KAAK,CAAC,IAAI,CAAC,EAAE,EAAE,EAAE,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE,IAAI,EAAE,aAAa,EAAE,SAAS,EAAE,IAAI,IAAI,GAAG,CAAC,CAAC;QAChF,mCAAc,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,EAAE;YACjC,IAAI,EAAE;gBACL,OAAO,EAAE,KAAK;aACd;SACD,CAAC,CAAC;QACH,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;IACzB,CAAC;IACD,qCAAY,GAAZ;QACC,MAAM,CAAC,mCAAc,CAAC,IAAI,EAAE,CAAC,GAAG,CAAC,UAAC,QAAkB,IAAO,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;IAChF,CAAC;IA5DF;QAAC,gBAAS,CAAC;YACV,QAAQ,EAAE,UAAU;YACnB,SAAS,EAAE,CAAC,8CAAqB,CAAC;YACnC,QAAQ,EAAE,2wBAiBT;SACD,CAAC;;sBAAA;IAwCF,qBAAC;AAAD,CAAC,AAvCD,IAuCC;AAvCY,sBAAc,iBAuC1B,CAAA","sourcesContent":["import { Component } from '@angular/core';\nimport { AuthenticationService } from '../_simple_login/authentication.service'\nimport { CanvasContents } from '../../../../imports/api/canvas-contents.js';\nimport { Canvas } from '../canvas.ts';\n\n@Component({\n\tselector: 'my-admin',\n  providers: [AuthenticationService],\n\ttemplate: `\n\t\t<div>Hello, Admin</div>\n\t\t<h2>Canvas Editor</h2>\n\t\t<form (ngSubmit)=\"addCanvas(canvas_title)\">\n\t\t\t<input [(ngModel)]=\"canvas_title\" type=\"text\" name=\"text\" placeholder=\"Make a new Canvas\"/>\n\t\t</form>\n\t\t<div [froalaEditor] [(froalaModel)]=\"editorContent\"></div>\n\t\t<h3>Html :</h3><div>{{editorContent}}</div>\n\t\t<h3>Output :</h3><div [froalaView]=\"editorContent\"></div>\n\t\t<br>\n\t\t<a routerLink=\"/home\">go back to home</a>\n\t\t<a routerLink=\"/slider-dashboard\">Slider Dashboard</a>\n\t\t<button (click)=\"logout()\">Click Here to logout</button>\n\t\t<div *ngFor=\"let canvas of my_canvases; let i=index\">\n\t\t\tcanvas {{i+1}} : \n\t\t\t<button (click)=\"addCanvasContents(canvas, editorContent)\">Edit</button>\n\t\t</div>\n\t`,\n})\nexport class AdminComponent {\n\tcanvas_title = '';\n\tmy_canvases = this.get_canvases();\n\tpublic editorContent: string = 'My Document\\'s Contents'\n\n\tconstructor(\n\t\tprivate _service:AuthenticationService){}\n\tngOnInit(){\n\t\tthis._service.checkCredentials();\n\t}\n\tlogout() {\n\t\tthis._service.logout();\n\t}\n\taddCanvas(canvas_title) {\n\t\tvar inital_value = [ { id: 1, text: canvas_title} ];\n\t\tvar content_length = CanvasContents.find().map((messages: Canvas[]) => { return messages; }).length;\n\t\tCanvasContents.insert({\n\t\t\tcontentid: content_length + 1,\n\t\t\tcontent: inital_value,\n\t\t\tcreatedAt: new Date,\n\t\t});\n\t\tthis.canvas_title = '';\n\t\tthis.my_canvases = this.get_canvases();\n\t}\n\taddCanvasContents(canvas, editorContent) {\n\t\tconsole.log('canvas._id : ');\n\t\tconsole.log(canvas._id);\n\t\tvar value = canvas.content;\n\t\tvalue.push({ id: value.length + 1, text: editorContent, createdAt: new Date, });\n\t\tCanvasContents.update(canvas._id, {\n\t\t\t$set: {\n\t\t\t\tcontent: value\n\t\t\t},\n\t\t});\n\t\tthis.editorContent = '';\n\t}\n\tget_canvases(): Canvas[] {\n\t\treturn CanvasContents.find().map((messages: Canvas[]) => { return messages; });\n\t}\n}\n"]},"version":"1","isExternal":true,"references":{"files":[],"modules":["client/imports/app/_simple_login/authentication.service.ts"],"typings":[]},"diagnostics":{"syntacticErrors":[],"semanticErrors":[{"code":2346,"fileName":"client/imports/app/_admin/admin.component.ts","message":"Supplied parameters do not match any signature of call target.","line":39,"column":3},{"code":2304,"fileName":"client/imports/app/_admin/admin.component.ts","message":"Cannot find name 'Canvas'.","line":43,"column":61},{"code":2304,"fileName":"client/imports/app/_admin/admin.component.ts","message":"Cannot find name 'Canvas'.","line":64,"column":18},{"code":2304,"fileName":"client/imports/app/_admin/admin.component.ts","message":"Cannot find name 'Canvas'.","line":65,"column":47}]},"hash":"2a48bfed63ffa82717e5afbb5c70eb644fc094ba"}